{
	"$schema": "https://turbo.build/schema.json",
	"globalPassThroughEnv": ["SENTRY_AUTH_TOKEN"],
	"tasks": {
		"build:worker-types": {
			"outputs": [],
			"inputs": ["worker/**/*.ts", "shared/**/*.ts", "tsconfig.worker.json", "tsconfig.json"]
		},
		"build:vite": {
			"dependsOn": ["build:worker-types"],
			"outputs": ["dist/**"],
			"inputs": [
				"src/**",
				"worker/**",
				"shared/**",
				"public/**",
				"index.html",
				"vite.config.ts",
				"tailwind.config.ts",
				"postcss.config.js",
				"tsconfig.*.json"
			],
			"env": ["VITE_TURNSTILE_SITE_KEY", "VITE_SENTRY_DSN", "NODE_ENV"]
		},
		"typecheck:app": {
			"dependsOn": ["build:worker-types"],
			"inputs": ["src/**", "shared/**", "tsconfig.app.json", "tsconfig.json"],
			"cache": true
		},
		"typecheck:node": {
			"inputs": ["vite.config.ts", "tsconfig.node.json", "tsconfig.json"],
			"cache": true
		},
		"typecheck:worker": {
			"dependsOn": ["build:worker-types"],
			"inputs": ["worker/**", "shared/**", "tsconfig.worker.json", "tsconfig.json"],
			"cache": true
		},
		"lint": {
			"inputs": ["src/**", "worker/**", "shared/**", "test/**", "eslint.config.js"],
			"cache": true
		},
		"format:check": {
			"inputs": ["**/*.{ts,tsx,js,json,md,css}"],
			"cache": true
		},
		"test": {
			"inputs": ["src/**", "worker/**", "shared/**", "test/unit/**"],
			"cache": true
		},
		"test:integration": {
			"inputs": ["src/**", "worker/**", "shared/**", "test/integration/**"],
			"env": ["TEST_BASE_URL"],
			"cache": false
		},
		"test:e2e": {
			"inputs": ["src/**", "worker/**", "shared/**", "test/e2e/**", "playwright.config.ts"],
			"env": ["TEST_BASE_URL", "CI"],
			"cache": false
		},
		"test:storybook": {
			"inputs": ["src/**", ".storybook/**", "vitest.config.storybook.ts"],
			"cache": true
		}
	}
}
